      <!-- Usuario -->
      <div class="user-info">
        <div class="user-avatar">
          <div class="avatar-circle">
            <i class="fas fa-user"></i>
            <div class="status-indicator"></div>
          </div>
        </div>
        <div class="user-details">
          <div id="user-name" class="user-name">Usuario</div>
          <div class="user-role-container">
            <span id="user-role" class="user-role-badge">Rol</span>
          </div>
        </div>
      </div>

      <!-- Menú principal (botones propios) -->
      <ul class="menu">
        <li><a href="inicio.html" class="btn btn-sidebar" title="Inicio"><i class="fas fa-home"></i><span class="menu-label">Inicio</span></a></li>
        <li><a href="Ranking y Promociones.html" class="btn btn-sidebar" title="Ranking y Promociones"><i class="fas fa-trophy"></i><span class="menu-label">Ranking y Promociones</span></a></li>
        <li><a href="lead.html" class="btn btn-sidebar" title="Lead"><i class="fas fa-user-plus"></i><span class="menu-label">Lead</span></a></li>
        <li><a href="Costumer.html" class="btn btn-sidebar" title="Costumer"><i class="fas fa-users"></i><span class="menu-label">Costumer</span></a></li>
        <li><a href="facturacion.html" class="btn btn-sidebar" title="Facturación"><i class="fas fa-file-invoice-dollar"></i><span class="menu-label">Facturación</span></a></li>
        <!-- Visible solo para ADMIN vía JS -->
  <li id="menu-create-account" style="display:none;"><a href="register.html" class="btn btn-sidebar" title="Crear cuenta"><i class="fas fa-user-plus"></i><span class="menu-label">Crear cuenta</span></a></li>
  <li><a href="Estadisticas.html" class="btn btn-sidebar" title="Estadísticas"><i class="fas fa-chart-bar"></i><span class="menu-label">Estadísticas</span></a></li>
  <li><a href="Tabla de puntaje.html" class="btn btn-sidebar" title="Tabla de puntaje"><i class="fas fa-list"></i><span class="menu-label">Tabla de puntaje</span></a></li>
  <li><a href="multimedia.html" class="btn btn-sidebar" title="Multimedia"><i class="fas fa-photo-video"></i><span class="menu-label">Multimedia</span></a></li>
  <li><a href="empleado-del-mes.html" class="btn btn-sidebar" title="Empleado del Mes"><i class="fas fa-award"></i><span class="menu-label">Empleado del Mes</span></a></li>
  <li><a href="#" id="logoutBtn" data-logout-button class="btn btn-sidebar btn-logout" title="Cerrar sesión"><i class="fas fa-sign-out-alt"></i><span class="menu-label">Cerrar sesión</span></a></li>
      </ul>

      <!-- Frase al pie -->
      <div class="sidebar-footer-quote">“Conectando tu éxito, un cliente a la vez”</div>

      <script>
      // Fallback script to ensure icon-only collapsed sidebar works even if loader is not executed yet.
      (function(){
        try {
          var BODY = document.body;
          if (!BODY) return;
          // Ensure mode class present
          if (!BODY.classList.contains('auto-hide-sidebar')) BODY.classList.add('auto-hide-sidebar');
          // Start collapsed
          BODY.classList.remove('show-sidebar');

          // Create hover zone if missing
          var zone = document.querySelector('.sidebar-hover-zone');
          if (!zone) {
            zone = document.createElement('div');
            zone.className = 'sidebar-hover-zone';
            document.body.appendChild(zone);
          }

          var sidebar = document.querySelector('.sidebar');
          var collapsedWidth = getComputedStyle(document.documentElement).getPropertyValue('--sidebar-collapsed') || '72px';
          collapsedWidth = collapsedWidth.trim() || '72px';

          var mainContent = document.querySelector('.main-content');
          var collapsedMargin = "calc(" + (getComputedStyle(document.documentElement).getPropertyValue('--sidebar-collapsed') || '72px') + " + 16px)";

          var collapsedElements = null;

          function setImportantStyle(el, prop, value) {
            try { el.style.setProperty(prop, value, 'important'); } catch (e) { el.style[prop] = value; }
          }
          function removeImportantStyle(el, prop) {
            try { el.style.removeProperty(prop); } catch (e) { el.style[prop] = ''; }
          }

          var applyCollapsedStyle = function() {
            if (!sidebar) return;
            try {
              // Remove any expanded inline styles first
              try { clearExpandedStyle && clearExpandedStyle(); } catch(e){}
              sidebar.style.setProperty('width', collapsedWidth, 'important');
              sidebar.style.setProperty('min-width', collapsedWidth, 'important');
            } catch(e) { sidebar.style.width = collapsedWidth; }
            if (mainContent) {
              try { mainContent.style.setProperty('margin-left', collapsedMargin, 'important'); } catch(e) { mainContent.style.marginLeft = ''; }
            }

            // Apply inline important styles to labels and other elements that may be forced visible by page CSS
            collapsedElements = {
              labels: Array.from(document.querySelectorAll('.sidebar .menu-label')),
              headings: Array.from(document.querySelectorAll('.sidebar h3')),
              footer: Array.from(document.querySelectorAll('.sidebar .sidebar-footer-quote')),
              userDetails: Array.from(document.querySelectorAll('.sidebar .user-details')),
              statContent: Array.from(document.querySelectorAll('.sidebar .stat-content')),
              menuLinks: Array.from(document.querySelectorAll('.sidebar .btn-sidebar'))
            };

            collapsedElements.labels.forEach(el => setImportantStyle(el, 'display', 'none'));
            collapsedElements.headings.forEach(el => setImportantStyle(el, 'display', 'none'));
            collapsedElements.footer.forEach(el => setImportantStyle(el, 'display', 'none'));
            collapsedElements.userDetails.forEach(el => setImportantStyle(el, 'display', 'none'));
            collapsedElements.statContent.forEach(el => setImportantStyle(el, 'display', 'none'));
            collapsedElements.menuLinks.forEach(el => {
              setImportantStyle(el, 'justify-content', 'center');
              setImportantStyle(el, 'padding-left', '0');
              setImportantStyle(el, 'padding-right', '0');
            });
          };

          var clearExpandedStyle = function() {
            try {
              // Restore main content margin
              if (mainContent) {
                try { mainContent.style.removeProperty('margin-left'); } catch(e) { mainContent.style.marginLeft = ''; }
              }
              // Remove avatar/label expanded inline props
              Array.from(document.querySelectorAll('.sidebar .menu-label')).forEach(el => removeImportantStyle(el, 'display'));
              Array.from(document.querySelectorAll('.sidebar h3')).forEach(el => removeImportantStyle(el, 'display'));
              Array.from(document.querySelectorAll('.sidebar .sidebar-footer-quote')).forEach(el => removeImportantStyle(el, 'display'));
              Array.from(document.querySelectorAll('.sidebar .user-details')).forEach(el => removeImportantStyle(el, 'display'));
              Array.from(document.querySelectorAll('.sidebar .user-info')).forEach(el => removeImportantStyle(el, 'display'));
              Array.from(document.querySelectorAll('.sidebar .avatar, .sidebar .user-avatar, .sidebar .avatar-circle')).forEach(el => {
                removeImportantStyle(el, 'width'); removeImportantStyle(el, 'height'); removeImportantStyle(el, 'font-size'); removeImportantStyle(el, 'margin');
              });
              Array.from(document.querySelectorAll('.sidebar .btn-sidebar')).forEach(el => {
                removeImportantStyle(el, 'justify-content'); removeImportantStyle(el, 'padding-left'); removeImportantStyle(el, 'padding-right');
                removeImportantStyle(el, 'flex-direction'); removeImportantStyle(el, 'align-items'); removeImportantStyle(el, 'gap'); removeImportantStyle(el, 'width');
                try { var ico = el.querySelector('i'); if (ico) { removeImportantStyle(ico, 'flex'); removeImportantStyle(ico, 'margin-right'); removeImportantStyle(ico, 'width'); removeImportantStyle(ico, 'text-align'); } } catch(e){}
                try { var lbl = el.querySelector('.menu-label'); if (lbl) { removeImportantStyle(lbl, 'white-space'); removeImportantStyle(lbl, 'display'); removeImportantStyle(lbl, 'margin-left'); } } catch(e){}
              });
              Array.from(document.querySelectorAll('.sidebar .btn-sidebar.is-active')).forEach(el => {
                removeImportantStyle(el, 'background'); removeImportantStyle(el, 'color'); removeImportantStyle(el, 'border-radius'); removeImportantStyle(el, 'padding-left'); removeImportantStyle(el, 'padding-right');
                try { var aico = el.querySelector('i'); if (aico) removeImportantStyle(aico, 'color'); } catch(e){}
              });
              // Remove sidebar width if it was set expanded
              try { sidebar.style.removeProperty('width'); sidebar.style.removeProperty('min-width'); } catch(e) { sidebar.style.width = ''; }
            } catch (e) { /* noop */ }
          };

          var clearCollapsedStyle = function() {
            if (!sidebar) return;
            try {
              sidebar.style.removeProperty('width');
              sidebar.style.removeProperty('min-width');
            } catch(e) { sidebar.style.width = ''; }
            if (mainContent) {
              try { mainContent.style.removeProperty('margin-left'); } catch(e) { mainContent.style.marginLeft = ''; }
            }

            if (collapsedElements) {
              collapsedElements.labels.forEach(el => removeImportantStyle(el, 'display'));
              collapsedElements.headings.forEach(el => removeImportantStyle(el, 'display'));
              collapsedElements.footer.forEach(el => removeImportantStyle(el, 'display'));
              collapsedElements.userDetails.forEach(el => removeImportantStyle(el, 'display'));
              collapsedElements.statContent.forEach(el => removeImportantStyle(el, 'display'));
              collapsedElements.menuLinks.forEach(el => {
                removeImportantStyle(el, 'justify-content');
                removeImportantStyle(el, 'padding-left');
                removeImportantStyle(el, 'padding-right');
              });
            }
            collapsedElements = null;
          };

          // Ensure expanded visuals (when show-sidebar) are also applied inline to beat page-specific CSS
          var applyExpandedStyle = function() {
            if (!sidebar) return;
            try {
              var root = getComputedStyle(document.documentElement);
              var wide = (root.getPropertyValue('--sidebar-width') || '260px').trim();
              // Force width to full and adjust main-content margin
              try { sidebar.style.setProperty('width', wide, 'important'); sidebar.style.setProperty('min-width', wide, 'important'); } catch(e){ sidebar.style.width = wide; }
              if (mainContent) {
                try { mainContent.style.setProperty('margin-left', 'calc(' + wide + ' + 16px)', 'important'); } catch(e) { mainContent.style.marginLeft = ''; }
              }

              // Reveal user/details and avatar
              Array.from(document.querySelectorAll('.sidebar .menu-label')).forEach(el => setImportantStyle(el, 'display', 'inline-block'));
              Array.from(document.querySelectorAll('.sidebar h3')).forEach(el => setImportantStyle(el, 'display', 'block'));
              Array.from(document.querySelectorAll('.sidebar .sidebar-footer-quote')).forEach(el => setImportantStyle(el, 'display', 'block'));
              Array.from(document.querySelectorAll('.sidebar .user-details')).forEach(el => setImportantStyle(el, 'display', 'block'));
              Array.from(document.querySelectorAll('.sidebar .user-info')).forEach(el => setImportantStyle(el, 'display', 'block'));
              // Avatar larger
              Array.from(document.querySelectorAll('.sidebar .avatar, .sidebar .user-avatar, .sidebar .avatar-circle')).forEach(el => {
                setImportantStyle(el, 'width', '80px');
                setImportantStyle(el, 'height', '80px');
                setImportantStyle(el, 'font-size', '2rem');
                setImportantStyle(el, 'margin', '0 auto 15px');
              });
              // Menu links: left aligned with padding
              Array.from(document.querySelectorAll('.sidebar .btn-sidebar')).forEach(el => {
                setImportantStyle(el, 'justify-content', 'flex-start');
                setImportantStyle(el, 'padding-left', '20px');
                setImportantStyle(el, 'padding-right', '20px');
                setImportantStyle(el, 'flex-direction', 'row');
                setImportantStyle(el, 'align-items', 'center');
                setImportantStyle(el, 'gap', '12px');
                try { setImportantStyle(el, 'width', '100%'); } catch(e){}
                // ensure the icon within the link stays inline and fixed size
                try {
                  var ico = el.querySelector('i');
                  if (ico) {
                    setImportantStyle(ico, 'flex', '0 0 20px');
                    setImportantStyle(ico, 'margin-right', '12px');
                    setImportantStyle(ico, 'width', '20px');
                    setImportantStyle(ico, 'text-align', 'center');
                  }
                } catch(e){}
                // ensure label does not wrap under the icon
                try { var lbl = el.querySelector('.menu-label'); if (lbl) { setImportantStyle(lbl, 'white-space', 'nowrap'); setImportantStyle(lbl, 'display', 'inline-block'); setImportantStyle(lbl, 'margin-left', '0'); } } catch(e){}
                // force anchor to be flex-row (some pages set column) and prevent wrapping
                try { setImportantStyle(el, 'display', 'flex'); setImportantStyle(el, 'flex-wrap', 'nowrap'); } catch(e){}
              });
              // Active pill styling
              Array.from(document.querySelectorAll('.sidebar .btn-sidebar.is-active')).forEach(el => {
                setImportantStyle(el, 'background', '#0ea5e9');
                setImportantStyle(el, 'color', '#ffffff');
                setImportantStyle(el, 'border-radius', '999px');
                setImportantStyle(el, 'padding-left', '24px');
                setImportantStyle(el, 'padding-right', '24px');
                // active icon color
                try { var aico = el.querySelector('i'); if (aico) setImportantStyle(aico, 'color', '#ffffff'); } catch(e){}
              });
            } catch (e) { /* noop */ }
          };

          var show = function(){ BODY.classList.add('show-sidebar'); clearCollapsedStyle(); try { applyExpandedStyle(); } catch(e){} };
          var hide = function(){ BODY.classList.remove('show-sidebar'); try { clearExpandedStyle(); } catch(e){}; applyCollapsedStyle(); };

          // Init collapsed state
          applyCollapsedStyle();

          zone.addEventListener('mouseenter', show);
          zone.addEventListener('mouseleave', hide);
          if (sidebar) {
            sidebar.addEventListener('mouseenter', show);
            sidebar.addEventListener('mouseleave', hide);
          }
        } catch (e) { /* no-op */ }
      })();
      </script>
